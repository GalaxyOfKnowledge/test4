<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinoy Space Invaders</title>
    <style>
        /* CSS for styling */
        body { text-align: center; background-color: black; color: white; }
        canvas { background-color: #111; display: block; margin: auto; }
        #quiz-container {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            color: black;
            padding: 20px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <h1>Pinoy Space Invaders Quiz</h1>
    <canvas id="gameCanvas" width="600" height="400"></canvas>
    <div id="quiz-container">
        <p id="question"></p>
        <button onclick="answerQuiz(true)">True</button>
        <button onclick="answerQuiz(false)">False</button>
    </div>

    <script>
        // JavaScript for Game Logic
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        let playerX = 270;
        let bullets = [];
        let enemies = [{x: 50, y: 50}, {x: 150, y: 50}, {x: 250, y: 50}];
        let score = 0;

        document.addEventListener("keydown", (e) => {
            if (e.key === "ArrowLeft" && playerX > 0) playerX -= 20;
            if (e.key === "ArrowRight" && playerX < 540) playerX += 20;
            if (e.key === " ") bullets.push({ x: playerX + 15, y: 350 });
        });

        function updateGame() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "white";
            ctx.fillRect(playerX, 370, 30, 20);
            bullets.forEach((bullet, index) => {
                bullet.y -= 5;
                ctx.fillRect(bullet.x, bullet.y, 5, 10);
                enemies.forEach((enemy, eIndex) => {
                    if (bullet.y < enemy.y + 20 && bullet.x > enemy.x && bullet.x < enemy.x + 40) {
                        enemies.splice(eIndex, 1);
                        bullets.splice(index, 1);
                        score += 100;
                        if (score % 200 === 0) triggerQuiz();
                    }
                });
            });
            enemies.forEach(enemy => { ctx.fillRect(enemy.x, enemy.y, 40, 20); });
            requestAnimationFrame(updateGame);
        }

        function triggerQuiz() {
            document.getElementById("question").innerText = "Is Jose Rizal the national hero of the Philippines?";
            document.getElementById("quiz-container").style.display = "block";
        }

        function answerQuiz(answer) {
            document.getElementById("quiz-container").style.display = "none";
        }

        updateGame();
    </script>
</body>
</html>
